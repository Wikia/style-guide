<!--
Wikia Style Guide
Global Top Bar

Description:
This component provides a default top bar for Wikia websites and includes handling for logged in user state or a call
to action for anonymous users.

Example:
	<top-bar
		user-avatar-src="foo.png" user-profile-href="http://wwww.wikia.com" user-name="Wikia User"
		logo-href="http://www.wikia.com" logo-src="logo.svg" user-logged-in show-user-status>
		<h1>Hello World!</h1>
	</top-bar>

You can use the `showUserStatus` to control whether or not the callout for user registration/user logged in avatar is
shown or not. If `showUserStatus` is true, then the `userLoggedIn` attribute will control whether or not the
registration/signin callout is shown or whether the user avatar is shown.
-->
<dom-module id="top-bar">
	<template>
		<style>
			[unresolved] {
				visibility: hidden;
			}

			:host {
				align-items: center;
				background-color: #fff;
				border-bottom: 1px solid #ccc;
				box-sizing: border-box;
				display: flex;
				height: 41px;
				position: fixed;
				top: 0;
				width: 100%;
				z-index: 9999999;
			}

			:host * {
				box-sizing: inherit;
			}

			.wrapper {
				width: 100%;
				margin: 0 auto;
				max-width: 62.5rem;
			}

			.wrapper:before, .wrapper:after {
				content: " ";
				display: table;
			}

			.inner {
				display: flex;
				padding: 0 0.9375rem;
				width: 100%;
			}

			.logo {
				fill: #092344;
				width: 82px;
			}

			.user-status-wrapper {
				order: 3;
			}

			.transcluded-content {
				flex-grow: 1;
			}

			@media (max-width: 721px) {
				:host {
					text-align: center;
				}

				/* grow the logo element to take up the extra room in the row since transcluded
				content is no longer there */
				:host .logo-wrapper {
					margin: 0 auto;
					display: block;
				}

				.transcluded-content {
					display: none;
				}
			}
		</style>

		<div class="wrapper">
			<div class="inner">
				<a class="logo-wrapper" href="{{logoHref}}"><img src="{{logoSrc}}" alt="Wikia" class="logo left"></a>

				<div class="user-status-wrapper">
					<content select="user-status"></content>
				</div>

				<div class="transcluded-content">
					<!-- Catch all for transcluded content -->
					<content></content>
				</div>
			</div>
		</div>
	</template>
</dom-module>

<script>
	(function () {
		Polymer({
			is: 'top-bar',
			properties: {
				logoHref: String,
				logoSrc: String,
				showUserStatus: {
					type: Boolean,
					value: false
				}
			}
		});
	}());
</script>
